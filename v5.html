<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SCI PHARMA - QMS Enterprise v14.1</title>
    <style>
        :root { --sidebar-color: #1a202c; --accent: #3182ce; }
        * { box-sizing: border-box; }
        body { font-family: "Times New Roman", serif; margin: 0; display: flex; background: #f0f2f5; height: 100vh; }
        
        /* Sidebar Navigation */
        .sidebar { width: 250px; background: var(--sidebar-color); color: white; flex-shrink: 0; padding-top: 20px; font-family: sans-serif; }
        .nav-group { padding: 15px 20px 5px; font-size: 11px; color: #718096; text-transform: uppercase; }
        .nav-item { padding: 12px 25px; cursor: pointer; transition: 0.2s; border-left: 4px solid transparent; }
        .nav-item:hover, .nav-item.active { background: #2d3748; border-left-color: var(--accent); color: white; }

        /* Main Workspace */
        .workspace { flex: 1; overflow-y: auto; padding: 40px; background: white; }
        .view { display: none; max-width: 900px; margin: auto; }
        .view.active { display: block; }

        /* Professional GMP Header Style */
        .coa-box { border: 2px solid black; padding: 20px; position: relative; }
        .coa-header { text-align: center; border-bottom: 2px solid black; padding-bottom: 10px; margin-bottom: 15px; }
        .header-table { width: 100%; border: none !important; }
        .header-table td { border: none !important; padding: 3px; font-size: 14px; }
        
        /* Tables for Analysis */
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid black; padding: 8px; text-align: left; font-size: 14px; }
        th { background: #f2f2f2; text-transform: uppercase; }
        .section-header { background: #eee; font-weight: bold; text-align: center; }

        /* Inputs for Documentation */
        input, select, textarea { border: 1px solid #ccc; padding: 5px; width: 100%; font-family: inherit; }
        .no-print { background: #ebf8ff; padding: 15px; border-radius: 8px; margin-bottom: 20px; border: 1px solid #bee3f8; }

        @media print {
            .sidebar, .no-print { display: none !important; }
            body { background: white; }
            .workspace { padding: 0; }
            .coa-box { border: 2px solid black; }
        }
    </style>
</head>
<body>

<nav class="sidebar">
    <div style="text-align:center; padding-bottom:20px;"><b style="font-size:20px; color:#63b3ed;">SCI PHARMA</b></div>
    <div class="nav-group">Main Console</div>
    <div class="nav-item active" onclick="showView('dash', this)">üìä Dashboard</div>
    
    <div class="nav-group">Production Documentation</div>
    <div class="nav-item" onclick="showView('gran', this)">‚öôÔ∏è IPC: Granulation</div>
    <div class="nav-item" onclick="showView('comp', this)">üíä IPC: Compression</div>
    
    <div class="nav-group">Quality Control</div>
    <div class="nav-item" onclick="showView('qc', this)">üß™ QC Final Release (COA)</div>
    <div class="nav-item" onclick="showView('oos', this)">‚ö†Ô∏è OOS Investigation</div>
</nav>

<main class="workspace">

    <div id="view-dash" class="view active">
        <h1>Welcome, Dr. Daoud</h1>
        <p>Select a manufacturing or analytical stage from the sidebar to begin Good Documentation Practice (GDP).</p>
    </div>

    <div id="view-gran" class="view">
        <div class="no-print"><h3>Granulation Log Entry</h3><button onclick="window.print()">Print Log</button></div>
        <div class="coa-box">
            <center><h2>IN-PROCESS CONTROL: GRANULATION</h2></center>
            <table class="header-table">
                <tr><td><b>Product:</b> <input type="text"></td><td><b>Batch No:</b> <input type="text"></td></tr>
                <tr><td><b>Date:</b> <input type="date"></td><td><b>Stage:</b> Wet/Dry Granulation</td></tr>
            </table>
            <table>
                <tr class="section-header"><td colspan="3">Processing Parameters</td></tr>
                <tr><th>Test Parameter</th><th>Specification</th><th>Actual Result</th></tr>
                <tr><td>Loss on Drying (LOD)</td><td>NMT 3.0 %</td><td><input type="text"></td></tr>
                <tr><td>Sieve Analysis</td><td>Comply</td><td><input type="text"></td></tr>
                <tr><td>Appearance</td><td>Uniform Granules</td><td><input type="text"></td></tr>
            </table>
        </div>
    </div>

    <div id="view-comp" class="view">
        <div class="no-print"><h3>Compression Log Entry</h3><button onclick="window.print()">Print Log</button></div>
        <div class="coa-box">
            <center><h2>IN-PROCESS CONTROL: COMPRESSION</h2></center>
            <table class="header-table">
                <tr><td><b>Product:</b> <input type="text"></td><td><b>Batch No:</b> <input type="text"></td></tr>
            </table>
            <table>
                <tr class="section-header"><td colspan="4">Physical Testing (Every 30 Mins)</td></tr>
                <tr><th>Time</th><th>Avg Weight (mg)</th><th>Hardness (N)</th><th>Thickness (mm)</th></tr>
                <tr><td><input type="time"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
                <tr><td><input type="time"></td><td><input type="text"></td><td><input type="text"></td><td><input type="text"></td></tr>
            </table>
        </div>
    </div>

    <div id="view-qc" class="view">
        <div class="no-print">
            <h3>Certificate Generation</h3>
            <label><b>Load Product Preset:</b></label>
            <select id="preset" onchange="applyPreset()" style="width: auto;">
                <option value="">-- Select Product --</option>
                <optgroup label="Finished Products">
                    <option value="asp_tab">Aspirin 100mg Tablets (TA01 Style)</option>
                    <option value="par_tab">Paramol 500mg Tablets (PA004 Style)</option>
                    <option value="pov_sol">Povidone Iodine 10% (PD07 Style)</option>
                </optgroup>
                <optgroup label="Raw Materials">
                    <option value="mcc_raw">Microcrystalline Cellulose (MCC)</option>
                    <option value="asp_raw">Aspirin Powder (RM)</option>
                </optgroup>
            </select>
            <button onclick="window.print()" style="background:green; color:white; margin-left:20px;">Print COA</button>
        </div>

        <div class="coa-box">
            <div class="coa-header">
                <h1 style="margin:0;">SCI PHARMACEUTICAL INDUSTRY</h1>
                <p style="margin:2px;">Quality Control Department - Khartoum, Sudan</p>
                <h2 style="margin:10px; border: 1px solid black; display:inline-block; padding:5px 20px;">CERTIFICATE OF ANALYSIS</h2>
            </div>

            <table class="header-table">
                <tr>
                    <td><b>Product Name:</b> <span id="out-name">-</span></td>
                    <td><b>AR. NO:</b> <input type="text" id="in-ar"></td>
                </tr>
                <tr>
                    <td><b>Batch Number:</b> <input type="text" id="in-batch"></td>
                    <td><b>Date of Release:</b> <input type="text" value="15.01.2026"></td>
                </tr>
                <tr>
                    <td><b>Manufacturing Date:</b> <input type="text" placeholder="MM.YYYY"></td>
                    <td><b>Specification:</b> <input type="text" id="in-spec"></td>
                </tr>
                <tr>
                    <td><b>Expiry Date:</b> <input type="text" placeholder="MM.YYYY"></td>
                    <td><b>Sample QTY:</b> <input type="text"></td>
                </tr>
            </table>

            <table>
                <thead>
                    <tr><th width="35%">Test Parameter</th><th width="40%">Specification</th><th width="25%">Result</th></tr>
                </thead>
                <tbody id="chemical-results">
                    <tr class="section-header"><td colspan="3">Physical & Chemical Test Results</td></tr>
                </tbody>
                <tbody id="micro-results">
                    <tr class="section-header"><td colspan="3">Microbiology Tests</td></tr>
                    <tr><td>Escherichia Coli</td><td>Absent</td><td><input type="text" value="Absent"></td></tr>
                    <tr><td>Salmonella</td><td>Absent</td><td><input type="text" value="Absent"></td></tr>
                    <tr><td>TAMC</td><td>NMT 10¬≥ CFU/g</td><td><input type="text" value="Absent"></td></tr>
                </tbody>
            </table>

            <div style="margin-top:30px; display:flex; justify-content:space-around;">
                <div style="text-align:center;">________________<br><b>Analyst</b></div>
                <div style="text-align:center;">________________<br><b>QC Manager</b></div>
            </div>
            <div style="margin-top:20px; border:1px solid black; padding:5px; text-align:center; font-weight:bold;">
                Conclusion: The sample complies with the required specification.
            </div>
        </div>
    </div>
</main>

<script>
    const presets = {
        asp_tab: {
            name: "Aspirin 100mg Tablets", ar: "FPP-25-073", spec: "BP 2017",
            tests: [
                {p: "Description", s: "White, round, uncoated tablets"},
                {p: "Identification", s: "Positive Reaction"},
                {p: "Uniformity of Weight", s: "223.9mg ¬± 5%"},
                {p: "Disintegration", s: "NMT 30 minutes"},
                {p: "Assay", s: "95.0% - 105.0%"}
            ]
        },
        par_tab: {
            name: "Paramol 500mg Tablets", ar: "FPP-25-053", spec: "BP 2025",
            tests: [
                {p: "Description", s: "White uncoated tablet"},
                {p: "Uniformity of Weight", s: "610mg ¬± 5%"},
                {p: "Disintegration", s: "NMT 15 minutes"},
                {p: "Assay", s: "95.0% - 105.0%"},
                {p: "Thickness", s: "4.2 ¬± 0.2 mm"}
            ]
        },
        mcc_raw: {
            name: "Microcrystalline Cellulose", ar: "ARM-25-018", spec: "BP 2017",
            tests: [
                {p: "Description", s: "White hygroscopic powder"},
                {p: "pH", s: "5.0 to 7.5"},
                {p: "Conductivity", s: "NMT 75 ¬µS/cm"},
                {p: "Loss on Drying", s: "Maximum 7.0 %"}
            ]
        }
    };

    function showView(id, el) {
        document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        document.getElementById('view-' + id).classList.add('active');
        el.classList.add('active');
    }

    function applyPreset() {
        const val = document.getElementById('preset').value;
        if (!val) return;
        const data = presets[val];
        document.getElementById('out-name').innerText = data.name;
        document.getElementById('in-ar').value = data.ar;
        document.getElementById('in-spec').value = data.spec;

        let html = '<tr class="section-header"><td colspan="3">Physical & Chemical Test Results</td></tr>';
        data.tests.forEach(t => {
            html += `<tr><td>${t.p}</td><td>${t.s}</td><td><input type="text" value="Comply"></td></tr>`;
        });
        document.getElementById('chemical-results').innerHTML = html;
    }
</script>
</body>
</html>